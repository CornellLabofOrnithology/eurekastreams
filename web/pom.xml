<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <parent>
        <artifactId>eurekastreams-parent</artifactId>
        <groupId>org.eurekastreams</groupId>
        <version>1.0-M2-SNAPSHOT</version>
    </parent>
    <modelVersion>4.0.0</modelVersion>
    <groupId>org.eurekastreams</groupId>
    <artifactId>eurekastreams-web</artifactId>
    <packaging>war</packaging>
    <version>0.9-M2-SNAPSHOT</version>
    <name>Eureka Streams Web</name>

    <repositories>
        <repository>
            <id>maven-restlet</id>
            <name>Public online Restlet repository</name>
            <url>http://maven.restlet.org</url>
        </repository>
    </repositories>

    <!--  convenience to define GWT version in one place -->
    <properties>
        <gwtVersion>1.7.0</gwtVersion>
        <maven.build.timestamp.format>yyyyMMddHHmmss</maven.build.timestamp.format>
        <eureka.grhostname>http://localhost:8081</eureka.grhostname>
        <eureka.analytics.hostname>http://analytics.example.com</eureka.analytics.hostname>
        <eureka.email.smtphost>smtp.example.com</eureka.email.smtphost>
    </properties>

    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>net.sf.ehcache</groupId>
                <artifactId>ehcache</artifactId>
                <version>1.5.0</version>
            </dependency>
        </dependencies>
    </dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.restlet</groupId>
            <artifactId>org.restlet</artifactId>
            <version>1.1.4</version>
        </dependency>
        <dependency>
            <groupId>org.restlet</groupId>
            <artifactId>org.restlet.ext.spring</artifactId>
            <version>1.1.4</version>
        </dependency>
        <dependency>
            <groupId>com.noelios.restlet</groupId>
            <artifactId>com.noelios.restlet</artifactId>
            <version>1.1.4</version>
        </dependency>
        <dependency>
            <groupId>com.noelios.restlet</groupId>
            <artifactId>com.noelios.restlet.ext.jetty</artifactId>
            <version>1.1.4</version>
        </dependency>
        <dependency>
            <groupId>com.noelios.restlet</groupId>
            <artifactId>com.noelios.restlet.ext.servlet</artifactId>
            <version>1.1.4</version>
        </dependency>
        <dependency>
            <groupId>com.noelios.restlet</groupId>
            <artifactId>com.noelios.restlet.ext.spring</artifactId>
            <version>1.1.4</version>
        </dependency>
        <dependency>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>jetty-ajp</artifactId>
            <version>6.1.0</version>
        </dependency>
        <dependency>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>jetty-https</artifactId>
            <version>6.1.0</version>
        </dependency>
        <dependency>
            <groupId>org.tuckey</groupId>
            <artifactId>urlrewrite</artifactId>
            <version>3.2.0-beta</version>
        </dependency>
        <!--
            commons-lang is specified here because gilead and
            spring-ldap-core both use versions that are too old to be
            compatible with shindig. By placing it here we can override
            requests for older versions.
        -->
        <dependency>
            <groupId>commons-lang</groupId>
            <artifactId>commons-lang</artifactId>
            <version>2.4</version>
        </dependency>
        <!-- Used for security servlet filter -->
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <version>2.5</version>
        </dependency>
        <!--  GWT deps (from central repo) -->
        <dependency>
            <groupId>com.google.gwt</groupId>
            <artifactId>gwt-servlet</artifactId>
            <version>${gwtVersion}</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>com.google.gwt</groupId>
            <artifactId>gwt-user</artifactId>
            <version>${gwtVersion}</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>com.google.gwt</groupId>
            <artifactId>gwt-dev</artifactId>
            <version>${gwtVersion}</version>
            <classifier>${platform}-libs</classifier>
            <type>zip</type>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>com.google.gwt</groupId>
            <artifactId>gwt-dev</artifactId>
            <version>${gwtVersion}</version>
            <classifier>${platform}</classifier>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring</artifactId>
            <version>2.5.6</version>
        </dependency>
        <dependency>
            <groupId>hsqldb</groupId>
            <artifactId>hsqldb</artifactId>
            <version>1.8.0.7</version>
        </dependency>
        <dependency>
            <groupId>commons-dbcp</groupId>
            <artifactId>commons-dbcp</artifactId>
            <version>1.2.2</version>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.12</version>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
            <version>1.5.0</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-test</artifactId>
            <version>2.5.6</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-core</artifactId>
            <version>2.5.6</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-web</artifactId>
            <version>2.5.6</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.ldap</groupId>
            <artifactId>spring-ldap-core</artifactId>
            <version>1.3.0.RELEASE</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-core</artifactId>
            <version>2.0.4</version>
        </dependency>
        <!--  test -->
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.4</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.jmock</groupId>
            <artifactId>jmock-junit4</artifactId>
            <version>2.5.1</version>
        </dependency>
        <dependency>
            <groupId>org.eurekastreams</groupId>
            <artifactId>eurekastreams-server</artifactId>
            <version>1.0-M2-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.jmock</groupId>
            <artifactId>jmock-legacy</artifactId>
            <version>2.5.1</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>jetty</artifactId>
            <version>6.1.14</version>
        </dependency>
        <dependency>
            <groupId>net.sf.json-lib</groupId>
            <artifactId>json-lib</artifactId>
            <version>2.2</version>
            <classifier>jdk15</classifier>
            <type>jar</type>
        </dependency>
        <dependency>
            <groupId>net.sf.gilead</groupId>
            <artifactId>hibernate-jpa-util</artifactId>
            <version>1.2.0</version>
            <exclusions>
                <exclusion>
                    <groupId>org.hibernate</groupId>
                    <artifactId>hibernate</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>net.sf.gilead</groupId>
            <artifactId>adapter4gwt</artifactId>
            <version>1.2.0</version>
        </dependency>
        <dependency>
            <groupId>org.apache.shindig</groupId>
            <artifactId>shindig-server</artifactId>
            <version>3.3</version>
            <type>war</type>
        </dependency>
        <dependency>
            <groupId>org.apache.shindig</groupId>
            <artifactId>shindig-social-api</artifactId>
            <version>3.3</version>
        </dependency>
        <dependency>
            <groupId>org.apache.shindig</groupId>
            <artifactId>shindig-common</artifactId>
            <version>3.3</version>
            <type>test-jar</type>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.apache.shindig</groupId>
            <artifactId>shindig-gadgets</artifactId>
            <version>3.3</version>
        </dependency>
        <dependency>
            <groupId>caja</groupId>
            <artifactId>json_simple</artifactId>
            <version>r1</version>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>it.cnr.isti.domoware</groupId>
            <artifactId>org.postgresql.jdbc4</artifactId>
            <version>8.3-603</version>
        </dependency>
        <dependency>
            <groupId>com.gwtyuicarousel</groupId>
            <artifactId>carousel</artifactId>
            <version>0.6.1</version>
        </dependency>
        <dependency>
            <groupId>com.google.code.gwt-dnd</groupId>
            <artifactId>gwt-dnd</artifactId>
            <version>2.6.5.2</version>
        </dependency>
        <dependency>
            <groupId>commons-fileupload</groupId>
            <artifactId>commons-fileupload</artifactId>
            <version>1.2</version>
        </dependency>

        <!-- Quartz -->
        <dependency>
            <groupId>quartz</groupId>
            <artifactId>quartz</artifactId>
            <version>1.5.2</version>
        </dependency>
        <dependency>
            <groupId>javax.mail</groupId>
            <artifactId>mail</artifactId>
            <version>1.4.2</version>
        </dependency>
        <dependency>
            <groupId>javax.activation</groupId>
            <artifactId>activation</artifactId>
            <version>1.1.1</version>
        </dependency>

        <dependency>
            <groupId>spy</groupId>
            <artifactId>memcached</artifactId>
            <version>2.4.2</version>
        </dependency>
        <dependency>
            <groupId>org.apache.activemq</groupId>
            <artifactId>activemq-core</artifactId>
            <version>5.2.0</version>
        </dependency>
    </dependencies>
    <build>
        <finalName>ROOT</finalName>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <source>1.5</source>
                    <target>1.5</target>
                </configuration>
            </plugin>
			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>buildnumber-maven-plugin</artifactId>
				<version>1.0-beta-3</version>
				<executions>
					  <execution>
						    <phase>validate</phase>
						    <goals>
						      <goal>create</goal>
						    </goals>
					  </execution>
				</executions>
				<configuration>
				    <format>{0,date,yyyyMMddHHmmss}</format>
				    <items>
				        <item>timestamp</item>
				    </items>
					<doCheck>false</doCheck>
					<doUpdate>false</doUpdate>
				</configuration>
            </plugin>
            <plugin>
                <groupId>org.mortbay.jetty</groupId>
                <artifactId>maven-jetty-plugin</artifactId>
                <configuration>
                    <connectors>
                        <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
                            <port>${env.WEBPORT}</port>
                            <maxIdleTime>60000</maxIdleTime>
                        </connector>
                        <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
                            <port>${env.GRWEBPORT}</port>
                            <maxIdleTime>60000</maxIdleTime>
                        </connector>
                    </connectors>
                    <webAppConfig>
                        <contextPath>/</contextPath>
                    </webAppConfig>
                    <webAppSourceDirectory>${project.build.directory}/${project.build.finalName}/org.eurekastreams.web.Application</webAppSourceDirectory>
                    <contextPath>/</contextPath>
                    <webXml>${project.build.directory}/${project.build.finalName}/org.eurekastreams.web.Application/WEB-INF/web.xml</webXml>
                    <requestLog  implementation="org.mortbay.jetty.NCSARequestLog">
			            <filename>target/jetty-access.log</filename>
			            <retainDays>1</retainDays>
			            <append>true</append>
			            <extended>false</extended>
			            <logTimeZone>GMT</logTimeZone>
			        </requestLog> 
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-resources-plugin</artifactId>
                <configuration>
                    <encoding>UTF-8</encoding>
                </configuration>
                <executions>
                    <execution>
                        <id>copy-db-resources</id>
                        <phase>generate-resources</phase>
                        <goals>
                            <goal>copy-resources</goal>
                        </goals>
                        <configuration>
                            <outputDirectory>target/db</outputDirectory>
                            <resources>
                                <resource>
                                    <directory>../database</directory>
                                    <excludes>
                                        <exclude>datapopulation/**</exclude>
                                        <exclude>schema/*/*.*</exclude>
                                    </excludes>
                                </resource>
                            </resources>
                            <overwrite>true</overwrite>
                        </configuration>
                    </execution>
                    <execution>
                        <id>copy-rpmscripts-resources</id>
                        <phase>generate-resources</phase>
                        <goals>
                            <goal>copy-resources</goal>
                        </goals>
                        <configuration>
                            <outputDirectory>target/rpmscripts</outputDirectory>
                            <resources>
                                <resource>
                                    <directory>src/main/scripts</directory>
                                </resource>
                            </resources>
                            <overwrite>true</overwrite>
                        </configuration>
                    </execution>                    
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-resources-plugin</artifactId>
                <configuration>
                    <encoding>UTF-8</encoding>
                </configuration>
                <executions>
                    <execution>
                        <id>copy-rpmscripts-resources</id>
                        <phase>generate-resources</phase>
                        <goals>
                            <goal>copy-resources</goal>
                        </goals>
                        <configuration>
                            <outputDirectory>target/scripts</outputDirectory>
                            <resources>
                                <resource>
                                    <directory>src/main/scripts</directory>
                                    <excludes/>
                                </resource>
                            </resources>
                            <overwrite>true</overwrite>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>exec-maven-plugin</artifactId>
                <version>1.1</version>
                <executions>
                    <execution>
                        <id>chmodder</id>
                        <phase>process-resources</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>chmod</executable>
                            <arguments>
                                <argument>-R</argument>
                                <argument>755</argument>
                                <argument>target/db</argument>
                            </arguments>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
        <resources>
            <resource>
                <targetPath>features</targetPath>
                <directory>${basedir}/src/main/resources/features</directory>
            </resource>
            <resource>
                <targetPath>conf</targetPath>
                <directory>${basedir}/src/main/resources/conf</directory>
            </resource>
            <resource>
                <targetPath>public</targetPath>
                <directory>${basedir}/src/main/resources/public</directory>
                <filtering>true</filtering>
            </resource>
        </resources>
    </build>

<!--
    Profile Activation and Property Description:
        Maven Flag missing (-D):
            clover - if does not exist, perform operations a certain way

        Maven Flag (-D) with no value:
            ldap-security - if exists, moves the Spring file into place for LDAP security
            jaas-security - if exists, moves the Spring file into place for JAAS form based security 
            openaccess-security - if exists, moves the Spring file into place for open access form based security     
            preauth-security - if exists, moves the Spring file into place for pre-auth security
            kerb-security - if exists, moves the Spring file into place for JAAS security 
            EnableJMS - if exists, replace the realTimeExecuter to messageProducer enabling queuing of async
                     actions
            clover - if exists, enable the generation of Clover code coverage reports
            rpm.build - if exists, perform the steps to create an RPM out of the build

        Maven Flag (-D) with value:
            deployto-envname - if exists, the value is used to replace all URLs from the default of http://localhost:8080 to the
                    configured value.
                        Example... -Ddeplyto-envname=http://example.com

        System Environment variables missing:
            BUILDTYPE - if missing, perform build operations for the development environment

        System Environment variables - The following values can be configured on the command line when invoking maven with
            the -D prefix or by setting them in the user's environment:
            BUILDTYPE - this value will be examined to determine which profile to activate
                     or enable a particular profile upon absense of this environment variable
                     values can be: int, uat, perf, prod
            NODETYPE - this value will be examined to determine which profile to activate
                     values can be: webnode,indexingnode
            INSTALL - if exists, the postinstall.sh scripts will be changed to no perform a database deployment the RPM.
            DBNAME - if exists, this value is used to replace the database name
            DBUSER - if exists, this value is used to replace the database username
            CACHESERVERNAMES - if exists, this is the value used for the memcache server connection
            INDEXLUCENEDIR - if exists, this value is used as the base directory to put the index directory and files
                         This directory is to be absolute with a leading /
            SOURCELUCENEDIR - if exists, this value is used as the base directory to read the indexed diff files             
            GRWEBPORT - if exists, this value is used to run the gadget renderer in jetty 
            WEBPORT - if exists, this value is used to run the web application in jetty
            DBSERVERNAME  - if exists, this value is used as the server name for the database server
            JMSSERVERNAME - if exists, this value is used as the JMS server name for the async job submissions
            ACTIVITYQNAME - if exists, this value is used as the queue name for the submission of async actions
            SEARCHQNAME - if exists, this value is used as the queue name for the submission of index entries

        Platform:
            windows
                gwt-dev-windows
            mac
                gwt-dev-mac
            linux
                gwt-dev-linux
-->
    <profiles>
        <profile>
            <id>LDAP Bind Spring Security</id>
            <activation>
                <property>
                    <name>ldap-security</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/applicationContext.xml</file>
                                    <token>applicationContext-security-preauth.xml</token>
                                    <value>applicationContext-security-ldap.xml</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Pre-auth Spring Security</id>
            <activation>
                <property>
                    <name>preauth-security</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/applicationContext.xml</file>
                                    <token>applicationContext-security-preauth.xml</token>
                                    <value>applicationContext-security-preauth.xml</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>JAAS Spring Security</id>
            <activation>
                <property>
                    <name>jaas-security</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/applicationContext.xml</file>
                                    <token>applicationContext-security-preauth.xml</token>
                                    <value>applicationContext-security-jaas.xml</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>        
        <profile>
            <id>Open Access Spring Security</id>
            <activation>
                <property>
                    <name>openaccess-security</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/applicationContext.xml</file>
                                    <token>applicationContext-security-preauth.xml</token>
                                    <value>applicationContext-security-openaccess.xml</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>        
        <profile>
            <id>Kerberos JAAS Spring Security</id>
            <activation>
                <property>
                    <name>kerb-security</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/applicationContext.xml</file>
                                    <token>applicationContext-security-preauth.xml</token>
                                    <value>applicationContext-security-jaas.xml</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Adjust the gadget definition XML document for environment URLs</id>
            <activation>
                <property>
                    <name>deployto-envname</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>Checklist Web DeployTo Environment Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/features/eurekastreams-checklist/checklist.js</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>Bookmark Gadget Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/gadgets/bookmarkgadget.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
							<execution>
                                <id>Activity Gadget Deployto Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/gadgets/activitygadget.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
							<execution>
								<id>>Basic  Gadget Deployto Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/gadgets/basicgadget.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>OAuth Test Gadget Deployto Replacement on Container Proxy File</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/gadgets/containerproxytest.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>OAuth Test Gadget Deployto Replacement on Opensocial Container Proxy File</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/gadgets/opensocialcontainertest.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>Base Feed Reader Replace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/gadgets/feed-reader.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>Washington Technology Feed Reader Replace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/gadgets/washtech-feed-reader.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>White House Blog Feed Reader Replace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/gadgets/whitehouseblog-feed-reader.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>    
                            <execution>
                                <id>Delicious Plugin Replace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/plugins/delicious.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>                                                      
                            <execution>
                                <id>Google Reader Plugin Replace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/plugins/googlereader.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>RSS Plugin Replace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/plugins/rss.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>Twitter Plugin Replace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/plugins/twitter.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>YouTube Plugin Replace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/plugins/youtube.xml</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>JavaScript Web DeployTo Environment Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/scripts/external-js-min.js</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>JSON Web DeployTo Environment Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams_container.js</file>
                                    <token>http://localhost:8080</token>
                                    <value>${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>Guice Container Web DeployTo Environment Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams.properties</file>
                                    <token>eureka.container.baseurl=http://localhost:8080</token>
                                    <value>eureka.container.baseurl=${deployto-envname}</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>Properties Web DeployTo Environment Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.web.baseurl=http://localhost:8080</token>
                                    <value>eureka.web.baseurl=${deployto-envname}</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
                
        <profile>
            <id>Enable the JMS queuing</id>
            <activation>
                <property>
                    <name>EnableJMS</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>asyncactionsubmitterreplacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/applicationContext.xml</file>
                                    <token>alias="taskHandler" name="inlineTaskHandler"</token>
                                    <value>alias="taskHandler" name="queueTaskHandler"</value>
                                </configuration>
                            </execution>
                        </executions>                        
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>gwt-no-clover</id>
            <activation>
                <property>
                    <name>!clover</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.codehaus.mojo</groupId>
                        <artifactId>gwt-maven-plugin</artifactId>
                        <version>1.1</version>
                        <executions>
                            <execution>
                                <configuration>
                                    <module>org.eurekastreams.web.Application</module>
                                    <logLevel>INFO</logLevel>
                                    <extraJvmArgs>-Xmx1024m</extraJvmArgs>
                                    <gwtVersion>${gwtVersion}</gwtVersion>
                                    <webXmlServletPathAsIs>true</webXmlServletPathAsIs>
                                    <mergedWebXml>${project.build.directory}/web.xml</mergedWebXml>
                                    <runTarget>Application.html</runTarget>
                                    <noServer>true</noServer>
                                    <port>8080</port>
                                    <hostedWebapp>ROOT</hostedWebapp>
                                    <style>${GWTCompileStyle}</style>
                                </configuration>
                                <goals>
                                    <goal>compile</goal>
                                    <goal>mergewebxml</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>

                    <!--
                        If you want to use the target/web.xml file
                        mergewebxml produces, tell the war plugin to use
                        it. Also, exclude what you want from the final
                        artifact here.
                    -->
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-war-plugin</artifactId>
                        <configuration>
                            <webResources>
                                <resource>
                                    <directory>target/classes/public/gadgets</directory>
                                    <targetPath>org/eurekastreams/gadgets</targetPath>
                                </resource>
                                <resource>
                                    <directory>target/classes/public</directory>
                                    <targetPath></targetPath>
                                </resource>
                                <resource>
                                    <directory>target/classes/conf</directory>
                                    <targetPath>WEB-INF/classes/conf</targetPath>
                                    <includes>
                                        <include>log4j.xml</include>
                                    </includes>
                                </resource>
                            </webResources>
                            <!--
                                This path is where the mergexml goal of
                                the gwt plugin places the merged web.xml
                                file.
                            -->
                            <webXml>${project.build.directory}/web.xml</webXml>
                            <warSourceExcludes>.gwt-tmp/**,WEB-INF/classes/javax/**,WEB-INF/classes/public/**</warSourceExcludes>
                            <warName>${project.build.finalName}</warName>
                            <!--
                                this is a workaround because of a bug in
                                this plugin when performing war
                                overlays.
                            -->
                            <overlays>
                                <overlay>
                                    <groupId>org.apache.shindig</groupId>
                                    <artifactId>shindig-server</artifactId>
                                    <type>war</type>
                                    <excludes>
                                        <exclude>WEB-INF/web.xml</exclude>
                                        <exclude>WEB-INF/lib/rome-0.9.jar</exclude>
                                    </excludes>
                                </overlay>
                            </overlays>

                            <webappDirectory>${project.build.directory}/${project.build.finalName}/org.eurekastreams.web.Application</webappDirectory>

                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>No database deployment</id>
            <activation>
                <property>
                    <name>NoDatabaseInstall</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-resources-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>copy-nodatabaseinstallrpmscript-resources</id>
                                <phase>process-resources</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <outputDirectory>target/rpmscripts</outputDirectory>
                                    <resources>
                                        <resource>
                                            <directory>src/main/scripts/nodatabaseinstall</directory>
                                            <includes>
                                                <include>postinstall.sh</include>
                                            </includes>
                                        </resource>
                                    </resources>
                                    <overwrite>true</overwrite>
                                </configuration>
                            </execution>
                     </executions>
                  </plugin>
              </plugins>
           </build>
        </profile>        
        <profile>
            <id>RPM Build</id>
            <activation>
                <property>
                    <name>rpm.build</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.codehaus.mojo</groupId>
                        <artifactId>rpm-maven-plugin</artifactId>
                        <version>2.0.1</version>
                        <executions>
                            <execution>
                                <goals>
                                    <goal>rpm</goal>
                                </goals>
                            </execution>
                        </executions>
                        <configuration>
                            <name>eurekastreams-web-${rpm.build}</name>
                            <copyright>2009, Lockheed Martin Corp.</copyright>
                            <distribution>Eureka Streams</distribution>
                            <group>Application/Social Media</group>
                            <icon></icon>
                            <packager>Social Media Program, Lockheed Martin Corp.</packager>
                            <prefix>/opt/tomcat6/current/eurekawebapps</prefix>
                            <defineStatements>
                                <defineStatement>_unpackaged_files_terminate_build 0</defineStatement>
                            </defineStatements>
                            <mappings>
                                <mapping>
                                    <directory>/opt/tomcat6/current/eurekawebapps</directory>
                                    <filemode>555</filemode>
                                    <username>root</username>
                                    <groupname>root</groupname>
                                    <sources>
                                        <source>
                                            <location>target/ROOT.war</location>
                                        </source>
                                    </sources>
                                </mapping>
                                <mapping>	
                                    <directory>/var/eureka/db</directory>
                                    <filemode>555</filemode>
                                    <username>root</username>
                                    <groupname>root</groupname>
                                    <sources>
                                        <source>
                                            <location>target/db</location>
                                        </source>
                                    </sources>
                                </mapping>
                            </mappings>
                            <requires>
                            </requires>
                            <preinstallScript>${project.build.directory}/rpmscripts/preinstall.sh</preinstallScript>
                            <!--
                                <installScript>src/main/scripts/install.sh</installScript>
                            -->
                            <postinstallScript>${project.build.directory}/rpmscripts/postinstall.sh</postinstallScript>
                            <preremoveScript>${project.build.directory}/rpmscripts/preremove.sh</preremoveScript>
                            <!--
                                <removeScript>/src/main/scripts/remove</removeScript>
                            -->
                            <postremoveScript>${project.build.directory}/rpmscripts/postremove.sh</postremoveScript>
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>buildtype.default</id>
            <activation>
                <property>
                    <name>!env.BUILDTYPE</name>
                </property>
            </activation>
            <properties>
                <GWTCompileStyle>PRETTY</GWTCompileStyle>
            </properties>
            <build>            
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-resources-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>copy-resources</id>
                                <phase>process-resources</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <outputDirectory>target/db/schema</outputDirectory>
                                    <resources>
                                        <resource>
                                            <directory>../database/schema</directory>
                                            <includes>
                                                <include>*.sql</include>
                                            </includes>
                                        </resource>
                                    </resources>
                                    <overwrite>true</overwrite>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Update node type to Web node</id>
            <activation>
                <property>
                    <name>env.NODETYPE</name>
                    <value>webnode</value>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>applicationcontextoneboxtowebnodereplacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/applicationContext.xml</file>
                                    <token>applicationContext-model-oneBox.xml</token>
                                    <value>applicationContext-model-webNode.xml</value>
                                </configuration>
                            </execution>                        
                            <execution>
                                <id>applicationcontextcontaineroneboxtowebnodereplacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/applicationContext-container.xml</file>
                                    <token>applicationContext-model-oneBox.xml</token>
                                    <value>applicationContext-model-webNode.xml</value>
                                </configuration>
                            </execution>
                            <execution>
                                <id>Application Context Remove Job Execution Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/applicationContext.xml</file>
                                    <token><![CDATA[<import resource="applicationContext-jobs.xml" />]]></token>
                                    <value><![CDATA[<!-- No job scheduler -->]]></value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>       
        <profile>
            <id>Update config for databasename</id>
            <activation>
                <property>
                    <name>env.DBNAME</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>applicationcontextmodeldbnamereplace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.db.dbname=eurekastreams</token>
                                    <value>eureka.db.dbname=${env.DBNAME}</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Update config for database username</id>
            <activation>
                <property>
                    <name>env.DBUSER</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>applicationcontextmodeldbuserreplace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.db.username=eurekastreams</token>
                                    <value>eureka.db.username=${env.DBUSER}</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Update config for cache connection string</id>
            <activation>
                <property>
                    <name>env.CACHESERVERNAMES</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>applicationcontextmemcachedreplace</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.cache.memcacche.connstr=localhost:11211</token>
                                    <value>eureka.cache.memcacche.connstr=${env.CACHESERVERNAMES}</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Application Context Lucene Index Directory Replacement</id>
            <activation>
                <property>
                    <name>env.INDEXLUCENEDIR</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>Application Context Lucene Index Directory Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.hibernatesearch.indexbase.dir=/tmp</token>
                                    <value>eureka.hibernatesearch.indexbase.dir=${env.INDEXLUCENEDIR}</value>
                                </configuration>
                            </execution>        
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Application Context Lucene Source Directory Replacement</id>
            <activation>
                <property>
                    <name>env.SOURCELUCENEDIR</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>Application Context Search Queue Name Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.hibernatesearch.sourcebase.dir=/tmp</token>
                                    <value>eureka.hibernatesearch.sourcebase.dir=${env.SOURCELUCENEDIR}</value>
                                </configuration>
                            </execution>        
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>        
        <profile>
            <id>Update config for gadget renderer port</id>
            <activation>
                <property>
                    <name>env.DEVGRHOSTNAME</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>Gadget Renderer Hostname Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/public/scripts/external-js-min.js</file>
                                    <token>http://localhost:8081</token>
                                    <value>${env.DEVGRHOSTNAME}</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Update config for database server name</id>
            <activation>
                <property>
                    <name>env.DBSERVERNAME</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>Application Context Model Database Server Name Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.db.connstr=jdbc:postgresql://127.0.0.1:5432</token>
                                    <value>eureka.db.connstr=jdbc:postgresql://${env.DBSERVERNAME}:5432</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Update config for JMS server name</id>
            <activation>
                <property>
                    <name>env.JMSSERVERNAME</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>Application Context JMS Server Name Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.queue.jms.connstr=tcp://localhost:61616</token>
                                    <value>eureka.queue.jms.connstr=tcp://${env.JMSSERVERNAME}:61616</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>Update config for activity queue name</id>
            <activation>
                <property>
                    <name>env.ACTIVITYQNAME</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>Application Context JMS Activity Queue Name Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.queue.activity.queuename=queue/eurekaActivity</token>
                                    <value>eureka.queue.activity.queuename=${env.ACTIVITYQNAME}</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>        
        <profile>
            <id>Update config for search queue name</id>
            <activation>
                <property>
                    <name>env.SEARCHQNAME</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>bakersoftware</groupId>
                        <artifactId>maven-replacer-plugin</artifactId>
                        <version>0.0.9</version>
                        <executions>
                            <execution>
                                <id>Application Context Model WebNode Search Queue Name Replacement</id>
                                <phase>compile</phase>
                                <goals>
                                    <goal>replace</goal>
                                </goals>
                                <configuration>
                                    <file>${project.build.directory}/classes/conf/eurekastreams-server.properties</file>
                                    <token>eureka.queue.hibernatesearch.queuename.dynamic=dynamicQueues/queue/hibernateSearch</token>
                                    <value>eureka.queue.hibernatesearch.queuename.dynamic=dynamicQueues/${env.SEARCHQNAME}</value>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>        

        <profile>
            <id>gwt-dev-windows</id>
            <properties>
                <platform>windows</platform>
            </properties>
            <activation>
                <activeByDefault>true</activeByDefault>
                <os>
                    <family>Windows</family>
                </os>
            </activation>
        </profile>
        <profile>
            <id>gwt-dev-mac</id>
            <properties>
                <platform>mac</platform>
            </properties>
            <activation>
                <os>
                    <family>mac</family>
                </os>
            </activation>
        </profile>
        <profile>
            <id>gwt-dev-linux</id>
            <properties>
                <platform>linux</platform>
            </properties>
            <activation>
                <os>
                    <name>Linux</name>
                </os>
            </activation>
        </profile>
    </profiles>
</project>
