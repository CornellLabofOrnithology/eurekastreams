<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta equiv="X-UA-Compatible" content="chrome=1">
    <title>Eureka Widget</title>
     <style type="text/css">
        body { overflow: hidden; }
     </style>
  </head>
  <body id="widget-rootpanel">
    <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1' style="position:absolute;width:0;height:0;border:0"></iframe>
    <script type="text/javascript" language="javascript" src="${build.web.cdn}/eureka.nocache.js?1301422861305"></script>
	<script type="text/javascript" src="${build.web.cdn}/scripts/external-js-min.js?1301422861305"></script>
    <script type="text/javascript">
        function querySt(ji) {
            hu = window.location.search.substring(1);
            gy = hu.split("&");
            for (i=0;i<gy.length;i++) {
                ft = gy[i].split("=");
                if (ft[0] == ji) {
                    return ft[1];
                }
            }
        }
        var p = unescape(querySt('p'));
        var id = unescape(querySt('i'));

        var sendMessage = function(msg) {
            if (window.postMessage) {
                parent.postMessage(msg, p);
            }
            else {
                parent.opener.postMessage(msg);
            }
        }

        // Resize Polling
        if (id && id != "undefined") {
        	setInterval(function() { sendMessage('{"frameId":"' + id + '","frameHeight":"' + jQuery('.layout-container').height() + '"}') }, 200);
        }
    </script>
  </body>
</html>
