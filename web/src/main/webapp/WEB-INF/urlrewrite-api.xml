<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE urlrewrite 
    PUBLIC "-//tuckey.org//DTD UrlRewrite 3.0//EN" 
    "http://tuckey.org/res/dtds/urlrewrite3.0.dtd">

<urlrewrite decode-using="null">

	<!-- SPECIAL/SUPPORT CALLS -->

	<rule>
		<from>^/api/0/establishSession/(.*)$</from>
		<to last="true">/resources/api/0/establishSession</to>
	</rule>

	<!-- FULL API -->
	
	<rule>
		<from>^/api/0/(preauthfull|full)/authorizeUpdateGroup/(.*)$</from>
		<to last="true">/resources/api/0/$1/authorizeUpdateGroup/String/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/deleteActivity/(.*)$</from>
		<to last="true">/resources/api/0/$1/deleteActivityAction/Long/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/deleteComment/(.*)$</from>
		<to last="true">/resources/api/0/$1/deleteComment/Long/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/deleteStreamForCurrentUser/(.*)$</from>
		<to last="true">/resources/api/0/$1/deleteStreamForCurrentUser/Long/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/flagActivity/(.*)$</from>
		<to last="true">/resources/api/0/$1/flagActivity/Long/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getActivitiesByRequest/(.*)$</from>
		<to last="true">/resources/api/0/$1/getActivitiesByRequest/String/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getActivityById/(.*)$</from>
		<to last="true">/resources/api/0/$1/getActivityById/Long/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getActivityCount/(.*)$</from>
		<to last="true">/resources/api/0/$1/getActivityCount/String/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getActivityLikers/(.*)$</from>
		<to last="true">/resources/api/0/$1/getActivityLikers/Long/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getBreadcrumbsList/(.*)$</from>
		<to last="true">/resources/api/0/$1/getBreadcrumbsList/org.eurekastreams.server.action.request.profile.GetBreadcrumbsListRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getCurrentUserFollowedGroups/(.*)$</from>
		<to last="true">/resources/api/0/$1/getCurrentUserFollowedGroups/null/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getCurrentUserFollowingStatus/(.*)$</from>
		<to last="true">/resources/api/0/$1/getCurrentUserFollowingStatus/org.eurekastreams.server.action.request.profile.GetCurrentUserFollowingStatusRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getCurrentUserJoinedGroupsPopularHashTags/(.*)$</from>
		<to last="true">/resources/api/0/$1/getAllPopularHashTags/null/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getCurrentUserStreams/(.*)$</from>
		<to last="true">/resources/api/0/$1/getCurrentUsersStreams/null/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getDirectorySearchResults/(.*)$</from>
		<to last="true">/resources/api/0/$1/getDirectorySearchResults/org.eurekastreams.server.action.request.directory.GetDirectorySearchResultsRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getDirectorySearchResultsGroups/(.*)$</from>
		<to last="true">/resources/api/0/$1/getDirectorySearchResultsGroups/org.eurekastreams.server.action.request.directory.GetDirectorySearchResultsRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getDirectorySearchResultsPeople/(.*)$</from>
		<to last="true">/resources/api/0/$1/getDirectorySearchResultsPeople/org.eurekastreams.server.action.request.directory.GetDirectorySearchResultsRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getEducation/(.*)$</from>
		<to last="true">/resources/api/0/$1/getEducation/Long/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getEmployment/(.*)$</from>
		<to last="true">/resources/api/0/$1/getEmployment/Long/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getFollowing/(.*)$</from>
		<to last="true">/resources/api/0/$1/getFollowing/org.eurekastreams.server.action.request.profile.GetFollowersFollowingRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getFollowingGroups/(.*)$</from>
		<to last="true">/resources/api/0/$1/getFollowingGroups/org.eurekastreams.server.action.request.profile.GetFollowersFollowingRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getGroupFollowers/(.*)$</from>
		<to last="true">/resources/api/0/$1/getGroupFollowers/org.eurekastreams.server.action.request.profile.GetFollowersFollowingRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getGroupModelView/(.*)$</from>
		<to last="true">/resources/api/0/$1/getGroupModelView/String/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getParsedLinkInformation/(.*)$</from>
		<to last="true">/resources/api/0/$1/getParsedLinkInformation/String/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getPersonFollowers/(.*)$</from>
		<to last="true">/resources/api/0/$1/getPersonFollowers/org.eurekastreams.server.action.request.profile.GetFollowersFollowingRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getPersonModelView/(.*)$</from>
		<to last="true">/resources/api/0/$1/getPersonModelView/String/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getPopularHashTagsForStream/(.*)$</from>
		<to last="true">/resources/api/0/$1/getPopularHashTagsForStream/org.eurekastreams.server.action.request.stream.StreamPopularHashTagsRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getRequestsForGroupMembershipByGroup/(.*)$</from>
		<to last="true">/resources/api/0/$1/getRequestsForGroupMembershipByGroupAction/org.eurekastreams.server.action.request.profile.GetRequestForGroupMembershipRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getSharedResourceByKey/(.*)$</from>
		<to last="true">/resources/api/0/$1/getSharedResourceByKeyAction/org.eurekastreams.server.action.request.SharedResourceRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getSystemSettings/(.*)$</from>
		<to last="true">/resources/api/0/$1/getSystemSettings/null/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/modifyStreamForCurrentUser/(.*)$</from>
		<to last="true">/resources/api/0/$1/modifyStreamForCurrentUser/org.eurekastreams.server.domain.stream.Stream/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/postActivityCommentDTO/(.*)$</from>
		<to last="true">/resources/api/0/$1/postActivityCommentAction/org.eurekastreams.server.search.modelview.CommentDTO/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/postGroupActivityDTO/(.*)$</from>
		<to last="true">/resources/api/0/$1/postGroupActivityServiceActionTaskHandler/org.eurekastreams.server.action.request.stream.PostActivityRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/postPersonActivityDTO/(.*)$</from>
		<to last="true">/resources/api/0/$1/postPersonActivityServiceActionTaskHandler/org.eurekastreams.server.action.request.stream.PostActivityRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/setActivityLiked/(.*)$</from>
		<to last="true">/resources/api/0/$1/setActivityLiked/org.eurekastreams.server.action.request.stream.SetActivityLikeRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/setActivityStar/(.*)$</from>
		<to last="true">/resources/api/0/$1/setActivityStar/org.eurekastreams.server.action.request.stream.SetActivityStarRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/setFollowingStatusGroup/(.*)$</from>
		<to last="true">/resources/api/0/$1/setFollowingStatusGroupTaskHandler/org.eurekastreams.server.action.request.profile.SetFollowingStatusRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/setFollowingStatusPerson/(.*)$</from>
		<to last="true">/resources/api/0/$1/setFollowingStatusPersonTaskHandler/org.eurekastreams.server.action.request.profile.SetFollowingStatusRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/setSharedResourceLiked/(.*)$</from>
		<to last="true">/resources/api/0/$1/setSharedResourceLiked/org.eurekastreams.server.action.request.stream.SetSharedResourceLikeRequest/$2</to>
	</rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/setStreamOrder/(.*)$</from>
		<to last="true">/resources/api/0/$1/setStreamOrder/org.eurekastreams.server.action.request.stream.SetStreamOrderRequest/$2</to>
	</rule>
	
	<rule>
        <from>^/api/0/(preauthfull|full)/registerUsageMetric/(.*)$</from>
        <to last="true">/resources/api/0/$1/registerUsageMetric/org.eurekastreams.server.search.modelview.UsageMetricDTO/$2</to>
    </rule>
	<rule>
        <from>^/api/0/(preauthfull|full)/sendNotification/(.*)$</from>
        <to last="true">/resources/api/0/$1/sendPrebuiltNotificationAction/org.eurekastreams.server.action.request.notification.SendPrebuiltNotificationRequest/$2</to>
    </rule>
    <rule>
        <from>^/api/0/(preauthfull|full)/getUserInAppNotificationCounts/(.*)$</from>
        <to last="true">/resources/api/0/$1/getUserInAppNotificationCounts/null/$2</to>
    </rule>
    <rule>
        <from>^/api/0/(preauthfull|full)/getInAppNotifications/(.*)$</from>
        <to last="true">/resources/api/0/$1/getInAppNotifications/null/$2</to>
    </rule>
    <rule>
        <from>^/api/0/(preauthfull|full)/markInAppNotificationsRead/(.*)$</from>
        <to last="true">/resources/api/0/$1/markInAppNotificationsRead/java.util.ArrayList%5Blong%5D/$2</to>
    </rule>
	<rule>
		<from>^/api/0/(preauthfull|full)/getPersonModelViewForStartup/(.*)$</from>
		<to last="true">/resources/api/0/$1/getPersonModelViewForStartup/null/$2</to>
	</rule>
	<rule>
        <from>^/api/0/(preauthfull|full)/getCurrentUsersBookmarks/(.*)$</from>
        <to last="true">/resources/api/0/$1/getCurrentUsersBookmarks/null/$2</to>
    </rule>

	<!-- READ-ONLY API -->
	
	<rule>
		<from>^/api/0/read/authorizeUpdateGroup/(.*)$</from>
		<to last="true">/resources/api/0/read/authorizeUpdateGroup/String/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getActivitiesByRequest/(.*)$</from>
		<to last="true">/resources/api/0/read/getActivitiesByRequest/String/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getActivityById/(.*)$</from>
		<to last="true">/resources/api/0/read/getActivityById/Long/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getActivityCount/(.*)$</from>
		<to last="true">/resources/api/0/read/getActivityCount/String/$1</to>
	</rule>
	<!-- The getActivityLikers action is not marked read-only, so it cannot be in the read-only API.  
		It's probably mismarked, since it shouldn't modify anything considering it's a 'get' action. -->
<!--	<rule>-->
<!--		<from>^/api/0/read/getActivityLikers/(.*)$</from>-->
<!--		<to last="true">/resources/api/0/read/getActivityLikers/Long/$1</to>-->
<!--	</rule>-->
	<rule>
		<from>^/api/0/read/getBreadcrumbsList/(.*)$</from>
		<to last="true">/resources/api/0/read/getBreadcrumbsList/org.eurekastreams.server.action.request.profile.GetBreadcrumbsListRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getCurrentUserFollowedGroups/(.*)$</from>
		<to last="true">/resources/api/0/read/getCurrentUserFollowedGroups/null/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getCurrentUserFollowingStatus/(.*)$</from>
		<to last="true">/resources/api/0/read/getCurrentUserFollowingStatus/org.eurekastreams.server.action.request.profile.GetCurrentUserFollowingStatusRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getCurrentUserJoinedGroupsPopularHashTags/(.*)$</from>
		<to last="true">/resources/api/0/read/getAllPopularHashTags/null/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getCurrentUserStreams/(.*)$</from>
		<to last="true">/resources/api/0/read/getCurrentUsersStreams/null/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getDirectorySearchResults/(.*)$</from>
		<to last="true">/resources/api/0/read/getDirectorySearchResults/org.eurekastreams.server.action.request.directory.GetDirectorySearchResultsRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getDirectorySearchResultsGroups/(.*)$</from>
		<to last="true">/resources/api/0/read/getDirectorySearchResultsGroups/org.eurekastreams.server.action.request.directory.GetDirectorySearchResultsRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getDirectorySearchResultsPeople/(.*)$</from>
		<to last="true">/resources/api/0/read/getDirectorySearchResultsPeople/org.eurekastreams.server.action.request.directory.GetDirectorySearchResultsRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getEducation/(.*)$</from>
		<to last="true">/resources/api/0/read/getEducation/Long/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getEmployment/(.*)$</from>
		<to last="true">/resources/api/0/read/getEmployment/Long/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getFollowing/(.*)$</from>
		<to last="true">/resources/api/0/read/getFollowing/org.eurekastreams.server.action.request.profile.GetFollowersFollowingRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getFollowingGroups/(.*)$</from>
		<to last="true">/resources/api/0/read/getFollowingGroups/org.eurekastreams.server.action.request.profile.GetFollowersFollowingRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getGroupFollowers/(.*)$</from>
		<to last="true">/resources/api/0/read/getGroupFollowers/org.eurekastreams.server.action.request.profile.GetFollowersFollowingRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getGroupModelView/(.*)$</from>
		<to last="true">/resources/api/0/read/getGroupModelView/String/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getParsedLinkInformation/(.*)$</from>
		<to last="true">/resources/api/0/read/getParsedLinkInformation/String/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getPersonFollowers/(.*)$</from>
		<to last="true">/resources/api/0/read/getPersonFollowers/org.eurekastreams.server.action.request.profile.GetFollowersFollowingRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getPersonModelView/(.*)$</from>
		<to last="true">/resources/api/0/read/getPersonModelView/String/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getPopularHashTagsForStream/(.*)$</from>
		<to last="true">/resources/api/0/read/getPopularHashTagsForStream/org.eurekastreams.server.action.request.stream.StreamPopularHashTagsRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getRequestsForGroupMembershipByGroup/(.*)$</from>
		<to last="true">/resources/api/0/read/getRequestsForGroupMembershipByGroupAction/org.eurekastreams.server.action.request.profile.GetRequestForGroupMembershipRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getSharedResourceByKey/(.*)$</from>
		<to last="true">/resources/api/0/read/getSharedResourceByKeyAction/org.eurekastreams.server.action.request.SharedResourceRequest/$1</to>
	</rule>
	<rule>
		<from>^/api/0/read/getSystemSettings/(.*)$</from>
		<to last="true">/resources/api/0/read/getSystemSettings/null/$1</to>
	</rule>
	<rule>
        	<from>^/api/0/read/getUserInAppNotificationCounts/(.*)$</from>
        	<to last="true">/resources/api/0/read/getUserInAppNotificationCounts/null/$1</to>
	</rule>
        <rule>
            <from>^/api/0/read/getInAppNotifications/(.*)$</from>
            <to last="true">/resources/api/0/read/getInAppNotifications/null/$1</to>
        </rule>
        <rule>
            <from>^/api/0/read/getCurrentUsersBookmarks/(.*)$</from>
            <to last="true">/resources/api/0/read/getCurrentUsersBookmarks/null/$1</to>
        </rule>
        <rule>
            <from>^/api/0/read/getStreamDiscoverLists/(.*)$</from>
            <to last="true">/resources/api/0/read/getStreamDiscoverListsDTOAction/null/$1</to>
        </rule>
	<rule>
		<from>^/api/0/read/getPersonModelViewForStartup/(.*)$</from>
		<to last="true">/resources/api/0/read/getPersonModelViewForStartup/null/$1</to>
	</rule>
</urlrewrite>
