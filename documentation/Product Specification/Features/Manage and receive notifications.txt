##Overview
Knowledge workers can choose to receive notifications on the posting of new activity and comments and the addition of new followers.
##Conditions of satisfaction
1. The system must generate a notification for a knowledge worker when an activity is posted by a colleague to their stream.
2. The system must generate a notification for a knowledge worker when a comment is posted to any activity within their stream.
3. The system must generate a notification for a knowledge worker when a comment is posted to an activity posted by the knowledge worker.
4. The system must generate a notification for a knowledge worker when a comment is posted to an activity that the knowledge worker has commented on.
5. The system must generate a notification for a knowledge worker when a colleague follows him.
6. The system must generate a notification for a knowledge worker when a group official posts an announcement to a group the knowledge worker has joined.
7. The system must generate a notification for a group coordinator when an activity is posted by a colleague to his group stream.
8. The system must generate a notification for a group coordinator when a colleague follows his group.
9. The system must generate a notification for a group coordinator when a pending membership request is submitted to a private group.
10. The system must generate a notification for an organization coordinator when there is a pending group creation request.
11. The system must generate a notification for an organization coordinator when activity is flagged as inappropriate.
12. The knowledge worker must have the option to receive notifications via email.

##User experience
### Managing Notifications
![](images/PS_F18_ManageNotifications.png)

1. Clicking the check box enables and disables email notifications.
1. Logged in user's email address.
1. Saves the edits made to the form and displays a feedback message at the top of the page: "Settings saved" with a close link at the top of the page.
1. Discards the changes made to the form and returns the knowledge worker to the start page.

### View Notifications
![](images/PS_F18_ViewNotifications_fig01.png)

1. Icon opens notifications modal window
1. Hover state
1. "25" is the number of new notifications

![](images/PS_F18_ViewNotifications_fig02.png)

1. Displayed for a knowledge worker when a message is posted to your stream.  The name links to the colleagues profile and the message links to the message posted in your profile. New notifications are highlighted in yellow.
2. Displayed for a knowledge worker when a colleague comments on an activity that you posted to your stream or to another knowledge worker's stream. Activity could be a link or message. The name links to the colleagues profile and the message links to the link posted in your profile.
3.  Displayed for a knowledge worker when a colleague comments on an actvity in the knowledge workers stream.  Activity could be a link or message. The name links to the colleagues profile and the link links to the link.
4. Displayed for a knowledge worker when a colleague comments on an activity that the knowledge worker has commented on.  The name links to the colleagues profile and the message links to the message.
5. Displayed for a knowledge worker when a colleague starts following your stream.  Colleague name links to the colleagues profile.
6. Displayed for knowledge worker when a group official posts an announcement to the group stream.
7. Displayed for group coordinators when a knowledge worker posts a message to a group stream.  Knowledge worker name links to the knowledge workers profile, message links to the message in the group stream, and group name links to the group profile.
8. Displayed for group coordinators when a knowledge worker joins a group. Knowledge worker name links to the knowledge workers profile and group name links to the group profile.
9. Displayed for group coordinators when a knowledge worker requests access to a private group.  Knowledge worker name links to the knowledge workers profile, requested links to the groups Admin tab, and group name links to the group profile.
10. Displayed for organization coordinators when a message is flagged in a group or knowledge worker profile within the organization.  Knowledge worker name links to the knowledge workers profile, flagged links to the parent organizations Admin tab and organization name links to the organization profile.
11. Displayed for organization coordinators when a new group is created and pending approval.  Group name is a link to the group profile, pending approval is a link to the organization's Admin tab, and organization name links to the organization profile.
12. Link closes window and opens the Personal tab on the settings page.
13. Closes the window.

Notes:

1. Notifications are retained for 14 days.
2. A single notification is generated based on any given event.  The type of message sent is picked based on the following order: 1) Authorship, 2) Who's stream is updated; 3) scenario for commenting.  For example, in the scenario where a knowledge worker posts a message to his stream and comments on his message, the knowledge worker would recieve message #2 instead of message #4 since the original message was generated by the knowledge worker.
3. Emails are non-recursive.  For example, an org coordinator will not receive an email when a message is posted to a group in the organization.

### Email Notifications

![](images/PS_F18_ViewNotifications_Emails_fig01.png)

![](images/PS_F18_ViewNotifications_Emails_fig02.png)

![](images/PS_F18_ViewNotifications_Emails_fig03.png)

![](images/PS_F18_ViewNotifications_Emails_fig04.png)

![](images/PS_F18_ViewNotifications_Emails_fig05.png)

![](images/PS_F18_ViewNotifications_Emails_fig06.png)

![](images/PS_F18_ViewNotifications_Emails_fig07.png)

![](images/PS_F18_ViewNotifications_Emails_fig08.png)

![](images/PS_F18_ViewNotifications_Emails_fig09.png)

![](images/PS_F18_ViewNotifications_Emails_fig10.png)

![](images/PS_F18_ViewNotifications_Emails_fig11.png)

![](images/PS_F18_ViewNotifications_Emails_fig12.png)

![](images/PS_F18_ViewNotifications_Emails_fig13.png)


1. Email is sent to a knowledge worker when a message is posted to your stream.
2. Email is sent to a knowledge worker when a colleague comments on an activity that you posted in your stream or an activity that you posted in another person's stream.
3. Email is sent to a knowledge worker when a colleague comments on a message or link in your stream.
4. Email is sent to a knowledge worker when a colleague comments on an activity that the knowledge worker has commented on.
5. Email is sent to a knowledge worker when a colleague starts following your stream.
6. Email is sent to a knowledge worker when a group official posts an announcement to the group stream.
7.  Email is sent to group coordinators when a knowledge worker posts a message to a group stream.
8. Email is sent to group coordinators when a knowledge worker joins a group.
9. Email is sent to group coordinators when a knowledge worker requests access to a private group.
10. Email is sent to organization coordinators when a message is flagged in a group or knowledge worker's profile within the organization.
11. Email is sent to organization coordinators when a new group is created and pending approval.
12. Emails is sent to the person originating the pending group request when group request is approved.
13. Emails is sent to the person originating the pending group request when group request is denied.

Notes:

1. A single email is generated based on any given event.  The type of message sent is picked based on the following order: 1) Authorship, 2) Who's stream is updated; 3) scenario for commenting.  For example, in the scenario where a knowledge worker posts a message to his stream and comments on his message, the knowledge worker would recieve message #2 instead of message #4 since the original message was generated by the knowledge worker.
2. Emails are non-recursive.  For example, an org coordinator will not receive an email when a message is posted to a group in the organization.

## Activity Not Found Message

![](images/PS_F18_notifications_activitynotfound.png)

1. This message is displayed when the activity hyperlinked in a notficiation or email no longer exists.


##Test plans
###Knowledge Worker
1. **Action: Confirm a notification is generated for a knowledge worker when an activity is posted by a colleague to his stream**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
2. **Action: Confirm a notification is generated for a knowledge worker when an activity posted by the knowledge worker is shared**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
3. **Action: Confirm a notification is generated for a knowledge worker when a comment is posted to any activity within his stream**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
4. **Action: Confirm a notification is generated for a knowledge worker when a comment is posted to an activity that the knowledge worker has commented on**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
5. **Action: Confirm a notification is generated for a knowledge worker when a comment is posted to an activity posted by the knowledge worker**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
6. **Action: Confirm a notification is generated for a knowledge worker when a colleague follows him**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
7. **Action: Confirm the option to receive notifications via email**
    * Verify email notifications for posted activity, comments and new followers are enabled by default
    * Verify an email is sent to the knowledge worker when an activity is posted by a colleague to his stream
    * Verify an email is sent to the knowledge worker when activity posted by the knowledge worker is shared
    * Verify an email is sent to the knowledge worker when a comment is posted to an activity within his stream
    * Verify an email is sent to the knowledge worker when a comment is posted to an activity that the knowledge worker has commented on
    * Verify an email is sent to the knowledge worker when a comment is posted to an activity posted by the knowledge worker
    * Verify an email is sent to the knowledge worker when another knowledge worker begins to follow him
    * Verify the ability to opt out of receiving emails for activity
    * Verify an email is not sent to the knowledge worker when an activity is posted by a colleague to his stream
    * Verify an email is not sent to the knowledge worker when activity posted by the knowledge worker is shared
    * Verify the ability to opt out of receiving emails for comments
    * Verify an email is not sent to the knowledge worker when a comment is posted to any activity within their stream
    * Verify an email is not sent to the knowledge worker when a comment is posted to an activity that the knowledge worker has commented on
    * Verify an email is not sent to the knowledge worker when a comment is posted to an activity posted by the knowledge worker
    * Verify the ability to opt out of receiving emails for colleagues following him
    * Verify an email is not sent to the knowledge worker when another knowledge worker begins to follow him
###Group Coordinator
1. **Action: Execute same tests as Knowledge Worker**
    * Verify tests executed successfully
2. **Action: Verify a notification is generated for a group coordinator when an activity is posted by a colleague to his group stream**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
3. **Action: Verify a notification is generated for a group coordinator when an activity is shared within his group stream**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
4. **Action: Verify a notification is generated for a group coordinator when a colleague follows his group**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
5. **Action: Verify a notification is generated for a group coordinator when a pending membership request is submitted to a private group.**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
6. **Action: Confirm the option to receive notifications via email**
    * Verify email notifications for posted activity, commenting and new followers are enabled by default
    * Verify an email is sent to all group coordinators when an activity is posted to his group stream
    * Verify an email is sent to all group coordinators when an activity is shared within his group stream
    * Verify an email is sent to all group coordinators when a comment is posted to any activity within his/her group stream
    * Verify an email is sent to all group coordinators when a colleague follows his group
    * Verify an email is sent to all group coordinators when a pending membership request is submitted to a private group.
    * Verify the ability to opt out of receiving emails for activity
    * Verify an email is not sent to any of the group coordinators when an activity is posted to his group stream
    * Verify an email is not sent to all group coordinators when an activity is shared within his group stream
    * Verify the ability to opt out of receiving emails for commenting
    * Verify an email is not sent to any of the group coordinators when a comment is posted to any activity within his group stream
    * Verify the ability to opt out of receiving emails for joining his/her group
    * Verify an email is not sent to any of the group coordinators when a colleague joins his group
    * Verify the ability to opt out of receiving emails for pending membership requests
    * Verify an email is sent to all group coordinators when a pending membership request is submitted to a private group.
###Organization Coordinator
1. **Action: Execute same tests as Knowledge Worker**
    * Verify tests executed successfully
2. **Action: Execute same tests as Group Coordinator**
    * Verify tests executed successfully
3. **Action: Confirm a notification is generated for an organization coordinator when there is a pending group creation request**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
4. **Action: Confirm a notification is generated for an organization coordinator when activity is flagged as inappropriate**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
5. **Action: Confirm the option to receive notifications via email**
    * Verify email notifications for flagged activity and new group requests are enabled by default
    * Verify an email is sent to all organization coordinators when there is a pending group creation request
    * Verify an email is sent to all organization coordinators when when activity is flagged as inappropriate
###Root Organization Coordinator
1. **Action: Execute same tests as Knowledge Worker**
    * Verify tests executed successfully
2. **Action: Execute same tests as Group Coordinator**
    * Verify tests executed successfully
3. **Action: Execute same tests as Organization Coordinator**
    * Verify tests executed successfully